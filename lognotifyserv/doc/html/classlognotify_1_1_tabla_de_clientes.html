<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Lognotify: Referencia de la Clase lognotify::TablaDeClientes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lognotify
   </div>
   <div id="projectbrief">Sistema de monitorización de ficheros de registro con notificaciones de escritorio</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Página&#160;principal</span></a></li>
      <li class="current"><a href="annotated.html"><span>Clases</span></a></li>
      <li><a href="files.html"><span>Archivos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Lista&#160;de&#160;clases</span></a></li>
      <li><a href="classes.html"><span>Índice&#160;de&#160;clases</span></a></li>
      <li><a href="functions.html"><span>Miembros&#160;de&#160;las&#160;clases</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlognotify_1_1_tabla_de_clientes.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Métodos públicos</a> &#124;
<a href="#pri-methods">Métodos privados</a> &#124;
<a href="#pri-attribs">Atributos privados</a> &#124;
<a href="classlognotify_1_1_tabla_de_clientes-members.html">Lista de todos los miembros</a>  </div>
  <div class="headertitle">
<div class="title">Referencia de la Clase lognotify::TablaDeClientes</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="tabla__de__clientes_8h_source.html">tabla_de_clientes.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Métodos públicos</h2></td></tr>
<tr class="memitem:af06d4a5d342810fb82a09558c7cfff93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#af06d4a5d342810fb82a09558c7cfff93">anadirCliente</a> (const int descriptor_socket)</td></tr>
<tr class="separator:af06d4a5d342810fb82a09558c7cfff93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccf461be012544c949de92c90971a22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#acccf461be012544c949de92c90971a22">eliminarCliente</a> (const int identificador_cliente)</td></tr>
<tr class="separator:acccf461be012544c949de92c90971a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184e0f6237771bad63ec9ac0e1a900b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#a184e0f6237771bad63ec9ac0e1a900b2">eliminarTodo</a> (void)</td></tr>
<tr class="separator:a184e0f6237771bad63ec9ac0e1a900b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4dea0a9e94c8535340919104f6c8f50"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#aa4dea0a9e94c8535340919104f6c8f50">enviar</a> (std::shared_ptr&lt; <a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> &gt; mensaje, const int identificador_cliente)</td></tr>
<tr class="separator:aa4dea0a9e94c8535340919104f6c8f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1459b128d910a0264672428b2e3fab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#ace1459b128d910a0264672428b2e3fab">enviar</a> (std::shared_ptr&lt; <a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> &gt; mensaje)</td></tr>
<tr class="separator:ace1459b128d910a0264672428b2e3fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Métodos privados</h2></td></tr>
<tr class="memitem:aa4e15e0908440aa194cba31d95336ac6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#aa4e15e0908440aa194cba31d95336ac6">anadirClienteNoSeguro</a> (const int descriptor_socket)</td></tr>
<tr class="separator:aa4e15e0908440aa194cba31d95336ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98960f5ca639807c4eb79a84cf82dcb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#a98960f5ca639807c4eb79a84cf82dcb8">eliminarClienteNoSeguro</a> (const int identificador_cliente)</td></tr>
<tr class="separator:a98960f5ca639807c4eb79a84cf82dcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Atributos privados</h2></td></tr>
<tr class="memitem:a449f28c5764977e87f0d5752be99086b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a449f28c5764977e87f0d5752be99086b"></a>
std::vector&lt; <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#a449f28c5764977e87f0d5752be99086b">clientes_</a></td></tr>
<tr class="memdesc:a449f28c5764977e87f0d5752be99086b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lista de clientes subscritos al servidor. <br /></td></tr>
<tr class="separator:a449f28c5764977e87f0d5752be99086b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5844aa88849215e7544d5b9f71fdc59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5844aa88849215e7544d5b9f71fdc59"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html#af5844aa88849215e7544d5b9f71fdc59">mutex_</a></td></tr>
<tr class="memdesc:af5844aa88849215e7544d5b9f71fdc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex utilizado para permitir acceso concurrente seguro a los clientes. <br /></td></tr>
<tr class="separator:af5844aa88849215e7544d5b9f71fdc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripción detallada</h2>
<div class="textblock"><p>Una <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a> representa una colección de clientes conectados a los que se puede enviar mensajes de red. La <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a> es thread safe, permitiendo ser accedida desde distintos hilos (por ejemplo para ser poblada desde un <a class="el" href="classlognotify_1_1_servidor_de_conexion.html">ServidorDeConexion</a> en un hilo y enviarse mensajes a los clientes ya registrados en otro) con seguridad. </p>
</div><h2 class="groupheader">Documentación de las funciones miembro</h2>
<a class="anchor" id="af06d4a5d342810fb82a09558c7cfff93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lognotify::TablaDeClientes::anadirCliente </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>descriptor_socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Añade un nuevo <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> a la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a> a partir de una conexión creada para dicho cliente. </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor_socket</td><td>Descriptor de fichero del socket utilizado para la conexión con el cliente </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Identificador numérico asignado al nuevo <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a>. NOTA: los identificadores de cliente son volátiles y pueden cambiar al ser eliminados otros clientes. Utilizar un identificador de cliente mediando una llamada a eliminarCliente entre su obtención y su uso producirá comportamiento impredecible. </dd></dl>

</div>
</div>
<a class="anchor" id="aa4e15e0908440aa194cba31d95336ac6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lognotify::TablaDeClientes::anadirClienteNoSeguro </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>descriptor_socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Añade un nuevo <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> a la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a> a partir de una conexión creada para dicho cliente. Esta versión de la función miembro anadirCliente NO es segura para acceso concurrente, por lo que sólo debe de ser llamada desde el interior de una sección crítica ya asegurada. Su uso está pensado únicamente para uso interno de objetos de la propia clase <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a>. </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor_socket</td><td>Descriptor de fichero del socket utilizado para la conexión con el cliente </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Identificador numérico asignado al nuevo <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acccf461be012544c949de92c90971a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lognotify::TablaDeClientes::eliminarCliente </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>identificador_cliente</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Elimina un <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> de la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a>, terminando la conexión si todavía está abierta. NOTA: eliminarCliente utiliza el algoritmo de eliminación de intercambio de posición con el último de la lista y eliminar el último, por lo que (salvo que el <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> a eliminar fuese el último) su posición quedará ocupada por el último <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> de la lista, algo importante a tener en cuenta en ciertas situaciones como al recorrer la lista eliminando condicionalmente algunos de sus elementos. </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">identificador_cliente</td><td>Identificador asignado al <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> durante su adición a la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a98960f5ca639807c4eb79a84cf82dcb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lognotify::TablaDeClientes::eliminarClienteNoSeguro </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>identificador_cliente</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Elimina un <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> de la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a>, terminando la conexión si todavía está abierta. Esta versión de la función miembro eliminarCliente NO es segura para acceso concurrente, por lo que sólo debe de ser llamada desde el interior de una sección crítica ya asegurada. Su uso está pensado únicamente para uso interno de objetos de la propia clase <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a>. NOTA: eliminarCliente utiliza el algoritmo de eliminación de intercambio de posición con el último de la lista y eliminar el último, por lo que (salvo que el <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> a eliminar fuese el último) su posición quedará ocupada por el último <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> de la lista, algo importante a tener en cuenta en ciertas situaciones como al recorrer la lista eliminando condicionalmente algunos de sus elementos. </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">identificador_cliente</td><td>Identificador asignado al <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> durante su adición a la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a184e0f6237771bad63ec9ac0e1a900b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lognotify::TablaDeClientes::eliminarTodo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Elimina todos los Clientes de la <a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a>, terminando la conexión de cada uno si todavía está abierta </p>

</div>
</div>
<a class="anchor" id="aa4dea0a9e94c8535340919104f6c8f50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lognotify::TablaDeClientes::enviar </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> &gt;&#160;</td>
          <td class="paramname"><em>mensaje</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>identificador_cliente</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Envía un <a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> al cliente especificado. Si la conexión con el cliente se ha perdido, el cliente será eliminado automáticamente </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">identificador_cliente</td><td>Identificador de <a class="el" href="classlognotify_1_1_cliente.html">Cliente</a> </td></tr>
    <tr><td class="paramname">mensaje</td><td><a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> que se desea enviar en la comunicación </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>true si el proceso ha tenido éxito, false en caso contrario </dd></dl>

</div>
</div>
<a class="anchor" id="ace1459b128d910a0264672428b2e3fab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lognotify::TablaDeClientes::enviar </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> &gt;&#160;</td>
          <td class="paramname"><em>mensaje</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Envía un <a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> a TODOS los clientes registrados (broadcast). Si alguna de las conexiones con estos clientes se ha perdido, estos serán eliminados automáticamente </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">mensaje</td><td><a class="el" href="classlognotify_1_1_mensaje.html">Mensaje</a> que se desea enviar en la comunicación </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>true si el mensaje ha sido enviado a por lo menos un cliente válido </dd></dl>

</div>
</div>
<hr/>La documentación para esta clase fue generada a partir de los siguientes ficheros:<ul>
<li><a class="el" href="tabla__de__clientes_8h_source.html">tabla_de_clientes.h</a></li>
<li>tabla_de_clientes.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>lognotify</b></li><li class="navelem"><a class="el" href="classlognotify_1_1_tabla_de_clientes.html">TablaDeClientes</a></li>
    <li class="footer">Generado por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
